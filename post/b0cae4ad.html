<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Serif+SC:300,300italic,400,400italic,700,700italic%7CRoboto+Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha256-Z1K5uhUaJXA7Ll0XrZ/0JhX4lAtZFpT6jkKrEDT0drU=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"notes.camcad.cn","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.14.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="机房预约系统(头文件&#x2F;源文件)">
<meta property="og:type" content="article">
<meta property="og:title" content="C++面向对象（案列）：机房预约系统(头文件&#x2F;源文件)">
<meta property="og:url" content="https://notes.camcad.cn/post/b0cae4ad.html">
<meta property="og:site_name" content="蚂蚁Emmet">
<meta property="og:description" content="机房预约系统(头文件&#x2F;源文件)">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2020-08-06T10:09:17.000Z">
<meta property="article:modified_time" content="2023-09-03T03:29:43.505Z">
<meta property="article:author" content="蚂蚁Emmet">
<meta property="article:tag" content="C&#x2F;C++">
<meta property="article:tag" content="蚂蚁Emmet">
<meta property="article:tag" content="C++ STL">
<meta property="article:tag" content="C++提高编程">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://notes.camcad.cn/post/b0cae4ad.html">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://notes.camcad.cn/post/b0cae4ad.html","path":"post/b0cae4ad.html","title":"C++面向对象（案列）：机房预约系统(头文件/源文件)"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>C++面向对象（案列）：机房预约系统(头文件/源文件) | 蚂蚁Emmet</title>
  






  <script async defer data-website-id="" src=""></script>

  <script defer data-domain="" src=""></script>
<link rel="dns-prefetch" href="https://waline.notes.camcad.cn/">
  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="蚂蚁Emmet" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">蚂蚁Emmet</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">增长盈利，降本增效<br>逆境求生存，顺境求发展</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-友链"><a href="/links/" rel="section"><i class="fa fa-globe fa-fw"></i>友链</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%99%E7%A8%8B%E7%9B%AE%E5%BD%95%E3%80%8AC-%E6%8F%90%E9%AB%98%E7%BC%96%E7%A8%8B%E3%80%8B"><span class="nav-number">1.</span> <span class="nav-text">教程目录《C++提高编程》</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%9C%BA%E6%88%BF%E9%A2%84%E7%BA%A6%E7%B3%BB%E7%BB%9F"><span class="nav-number"></span> <span class="nav-text">机房预约系统</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9C%BA%E6%88%BF%E9%A2%84%E7%BA%A6%E7%B3%BB%E7%BB%9F-cpp%EF%BC%88%E6%BA%90%E6%96%87%E4%BB%B6%EF%BC%89"><span class="nav-number"></span> <span class="nav-text">机房预约系统.cpp（源文件）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#computerRoom-h%EF%BC%88%E5%A4%B4%E6%96%87%E4%BB%B6%EF%BC%89"><span class="nav-number"></span> <span class="nav-text">computerRoom.h（头文件）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#globalFile-h%EF%BC%88%E5%A4%B4%E6%96%87%E4%BB%B6%EF%BC%89"><span class="nav-number"></span> <span class="nav-text">globalFile.h（头文件）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Identity-h%EF%BC%88%E5%A4%B4%E6%96%87%E4%BB%B6%EF%BC%89"><span class="nav-number"></span> <span class="nav-text">Identity.h（头文件）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orderFile-h%EF%BC%88%E5%A4%B4%E6%96%87%E4%BB%B6%EF%BC%89"><span class="nav-number"></span> <span class="nav-text">orderFile.h（头文件）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orderFile-cpp%EF%BC%88%E6%BA%90%E6%96%87%E4%BB%B6%EF%BC%89"><span class="nav-number"></span> <span class="nav-text">orderFile.cpp（源文件）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#manager-h%EF%BC%88%E5%A4%B4%E6%96%87%E4%BB%B6%EF%BC%89"><span class="nav-number"></span> <span class="nav-text">manager.h（头文件）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#manager-cpp%EF%BC%88%E6%BA%90%E6%96%87%E4%BB%B6%EF%BC%89"><span class="nav-number"></span> <span class="nav-text">manager.cpp（源文件）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#student-h%EF%BC%88%E5%A4%B4%E6%96%87%E4%BB%B6%EF%BC%89"><span class="nav-number"></span> <span class="nav-text">student.h（头文件）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#student-cpp%EF%BC%88%E6%BA%90%E6%96%87%E4%BB%B6%EF%BC%89"><span class="nav-number"></span> <span class="nav-text">student.cpp（源文件）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#teacher-h%EF%BC%88%E5%A4%B4%E6%96%87%E4%BB%B6%EF%BC%89"><span class="nav-number"></span> <span class="nav-text">teacher.h（头文件）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#teacher-cpp%EF%BC%88%E6%BA%90%E6%96%87%E4%BB%B6%EF%BC%89"><span class="nav-number"></span> <span class="nav-text">teacher.cpp（源文件）</span></a></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="蚂蚁Emmet"
      src="http://image.camcad.cn/2020/06/2020061804552287.png">
  <p class="site-author-name" itemprop="name">蚂蚁Emmet</p>
  <div class="site-description" itemprop="description">制造业IT宅男，喜欢折腾C++和被它折腾 ^_^ ^_^</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">369</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">13</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">28</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="mailto:emmet@camcad.cn" title="E-Mail → mailto:emmet@camcad.cn" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://github.com/ugopen" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;ugopen" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>
  <div class="cc-license animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://notes.camcad.cn/post/b0cae4ad.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="http://image.camcad.cn/2020/06/2020061804552287.png">
      <meta itemprop="name" content="蚂蚁Emmet">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蚂蚁Emmet">
      <meta itemprop="description" content="制造业IT宅男，喜欢折腾C++和被它折腾 ^_^ ^_^">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="C++面向对象（案列）：机房预约系统(头文件/源文件) | 蚂蚁Emmet">
      <meta itemprop="description" content="机房预约系统(头文件/源文件)">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          C++面向对象（案列）：机房预约系统(头文件/源文件)
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-06 10:09:17" itemprop="dateCreated datePublished" datetime="2020-08-06T10:09:17+00:00">2020-08-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/C-%E6%8F%90%E9%AB%98%E7%BC%96%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">C++提高编程</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/post/b0cae4ad.html#waline" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" data-path="/post/b0cae4ad.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

            <div class="post-description">机房预约系统(头文件/源文件)</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h3 id="教程目录《C-提高编程》"><a href="#教程目录《C-提高编程》" class="headerlink" title="教程目录《C++提高编程》"></a>教程目录《<a href="https://notes.camcad.cn/post/13756432.html">C++提高编程</a>》</h3><h1 id="机房预约系统"><a href="#机房预约系统" class="headerlink" title="机房预约系统"></a>机房预约系统</h1><h2 id="机房预约系统-cpp（源文件）"><a href="#机房预约系统-cpp（源文件）" class="headerlink" title="机房预约系统.cpp（源文件）"></a>机房预约系统.cpp（源文件）</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">pragma</span> once;</span></span><br><span class="line"><span class="meta">#include&lt;iostream&gt;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="title">std</span>;</span><br><span class="line"><span class="meta">#include&lt;string&gt;</span></span><br><span class="line"><span class="meta">#include&quot;globalFile.h&quot;</span></span><br><span class="line"><span class="meta">#include&quot;Identity.h&quot;</span></span><br><span class="line"><span class="meta">#include&lt;fstream&gt;</span></span><br><span class="line"><span class="meta">#include&quot;student.h&quot;</span></span><br><span class="line"><span class="meta">#include&quot;teacher.h&quot;</span></span><br><span class="line"><span class="meta">#include&quot;manager.h&quot;</span></span><br><span class="line"><span class="meta">#include&quot;student.h&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//登陆功能  参数1：操作的文件名，参数2：类型</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loginIn</span>(<span class="params"><span class="built_in">string</span> fileName, <span class="built_in">int</span> type</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//管理员 子菜单</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">managerMenu</span>(<span class="params">Identity * &amp;p</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//学生代表 子菜单</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">studentMenu</span>(<span class="params">Identity * &amp;p</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//老师代表 子菜单</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">teacherMenu</span>(<span class="params">Identity * &amp;p</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">int</span> <span class="title">main</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">int</span> <span class="keyword">select</span> = <span class="number">0</span>;     <span class="comment">//用于接收用户的选择</span></span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;====================  欢迎来到《蚂蚁》预约系统  ====================&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;请输入您的身份：&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;\t\t----------------------------------\n&quot;</span>;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;\t\t                                \n&quot;</span>;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;\t\t           1.学生代表           \n&quot;</span>;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;\t\t                                \n&quot;</span>;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;\t\t           2.教    师           \n&quot;</span>;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;\t\t                                \n&quot;</span>;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;\t\t           3.管 理 员           \n&quot;</span>;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;\t\t                                \n&quot;</span>;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;\t\t           0.退    出           \n&quot;</span>;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;\t\t----------------------------------\n&quot;</span>;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;输入您的选择：&quot;</span>;</span><br><span class="line">        cin &gt;&gt; <span class="keyword">select</span>;        <span class="comment">//接收用户选择</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">switch</span> (<span class="keyword">select</span>)     <span class="comment">//根据用户选择 实现不同接口的功能</span></span><br><span class="line">        &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:     <span class="comment">//学生代表</span></span><br><span class="line">            loginIn(STUDENT_FILE, <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:     <span class="comment">//教    师</span></span><br><span class="line">            loginIn(TEACHER_FILE, <span class="number">2</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>:     <span class="comment">//管 理 员</span></span><br><span class="line">            loginIn(ADMIN_FILE, <span class="number">3</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span>:     <span class="comment">//退出系统</span></span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;欢迎下次使用！&quot;</span> &lt;&lt; endl;</span><br><span class="line">            system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="literal">default</span>:</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;输入有误，请重新输入！&quot;</span> &lt;&lt; endl;</span><br><span class="line">            system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">            system(<span class="string">&quot;cls&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//登录功能</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loginIn</span>(<span class="params"><span class="built_in">string</span> fileName, <span class="built_in">int</span> type</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//创建流文件</span></span><br><span class="line">    ifstream ifs;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//打开文件-读操作</span></span><br><span class="line">    ifs.open(fileName, ios::<span class="keyword">in</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//判断文件是否存在</span></span><br><span class="line">    <span class="keyword">if</span> (!ifs.is_open())</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;文件不存在！&quot;</span> &lt;&lt; endl;</span><br><span class="line">        ifs.close();</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//学号/编号</span></span><br><span class="line">    <span class="built_in">int</span> id = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//用户名</span></span><br><span class="line">    <span class="built_in">string</span> name;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//密码</span></span><br><span class="line">    <span class="built_in">string</span> pwd;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (type == <span class="number">1</span>)      <span class="comment">//学生登录</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;请输入学号：&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cin &gt;&gt; id;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (type == <span class="number">2</span>) <span class="comment">//职工登录</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;请输入职工编号：&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cin &gt;&gt; id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;请输入用户名：&quot;</span> &lt;&lt; endl;</span><br><span class="line">    cin &gt;&gt; name;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;请输入密码：&quot;</span> &lt;&lt; endl;</span><br><span class="line">    cin &gt;&gt; pwd;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//基类创建</span></span><br><span class="line">    Identity *person = NULL;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (type == <span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//学生登录验证</span></span><br><span class="line">        <span class="built_in">int</span> fId = <span class="number">0</span>;    <span class="comment">//文件 学号</span></span><br><span class="line">        <span class="built_in">string</span> fName;   <span class="comment">//文件 用户名</span></span><br><span class="line">        <span class="built_in">string</span> fPwd;    <span class="comment">//文件 密码</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (ifs &gt;&gt; fId &amp;&amp; ifs &gt;&gt; fName &amp;&amp; ifs &gt;&gt; fPwd)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//与用户输入的信息做对比</span></span><br><span class="line">            <span class="keyword">if</span> (fId == id &amp;&amp; fName == name &amp;&amp; fPwd == pwd)</span><br><span class="line">            &#123;</span><br><span class="line">                cout &lt;&lt; <span class="string">&quot;学生验证登录成功&quot;</span> &lt;&lt; endl;</span><br><span class="line">                system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">                system(<span class="string">&quot;cls&quot;</span>);</span><br><span class="line">                person = <span class="keyword">new</span> Student(id, name, pwd);</span><br><span class="line"></span><br><span class="line">                <span class="comment">//进入学生身份的子菜单</span></span><br><span class="line">                studentMenu(person);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (type == <span class="number">2</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//教师登录验证</span></span><br><span class="line">        <span class="built_in">int</span> fId = <span class="number">0</span>;    <span class="comment">//文件 编号</span></span><br><span class="line">        <span class="built_in">string</span> fName;   <span class="comment">//文件 用户名</span></span><br><span class="line">        <span class="built_in">string</span> fPwd;    <span class="comment">//文件 密码</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (ifs &gt;&gt; fId &amp;&amp; ifs &gt;&gt; fName &amp;&amp; ifs &gt;&gt; fPwd)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//与用户输入的信息做对比</span></span><br><span class="line">            <span class="keyword">if</span> (fId == id &amp;&amp; fName == name &amp;&amp; fPwd == pwd)</span><br><span class="line">            &#123;</span><br><span class="line">                cout &lt;&lt; <span class="string">&quot;教师验证登录成功&quot;</span> &lt;&lt; endl;</span><br><span class="line">                system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">                system(<span class="string">&quot;cls&quot;</span>);</span><br><span class="line">                person = <span class="keyword">new</span> Teacher(id, name, pwd);</span><br><span class="line"></span><br><span class="line">                <span class="comment">//进入老师身份的子菜单</span></span><br><span class="line">                teacherMenu(person);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (type == <span class="number">3</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//管理员登录验证</span></span><br><span class="line">        <span class="built_in">string</span> fName;   <span class="comment">//文件 用户名</span></span><br><span class="line">        <span class="built_in">string</span> fPwd;    <span class="comment">//文件 密码</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (ifs &gt;&gt; fName &amp;&amp; ifs &gt;&gt; fPwd)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//与用户输入的信息做对比</span></span><br><span class="line">            <span class="keyword">if</span> (fName == name &amp;&amp; fPwd == pwd)</span><br><span class="line">            &#123;</span><br><span class="line">                cout &lt;&lt; <span class="string">&quot;管理员验证登录成功&quot;</span> &lt;&lt; endl;</span><br><span class="line">                system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">                system(<span class="string">&quot;cls&quot;</span>);</span><br><span class="line">                person = <span class="keyword">new</span> Manager(name, pwd);</span><br><span class="line"></span><br><span class="line">                <span class="comment">//进入管理员身份的子菜单</span></span><br><span class="line">                managerMenu(person);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;验证登录失败！&quot;</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">    system(<span class="string">&quot;cls&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//管理员 子菜单</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">managerMenu</span>(<span class="params">Identity * &amp;p</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//调用 管理员 子菜单</span></span><br><span class="line">        p-&gt;openMenu();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//将父类指针 转为子类指针，调用子类里其他接口</span></span><br><span class="line">        Manager *ma = (Manager*)p;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//接收用户选项</span></span><br><span class="line">        <span class="built_in">int</span> <span class="keyword">select</span> = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;请输入您的选择：&quot;</span>;</span><br><span class="line">        cin &gt;&gt; <span class="keyword">select</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">select</span> == <span class="number">1</span>)        <span class="comment">//添加账号</span></span><br><span class="line">        &#123;</span><br><span class="line">            ma-&gt;addPerson();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">select</span> == <span class="number">2</span>)   <span class="comment">//查看账号</span></span><br><span class="line">        &#123;</span><br><span class="line">            ma-&gt;showPerson();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">select</span> == <span class="number">3</span>)   <span class="comment">//查看机房</span></span><br><span class="line">        &#123;</span><br><span class="line">            ma-&gt;showComputer();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">select</span> == <span class="number">4</span>)   <span class="comment">//清空预约</span></span><br><span class="line">        &#123;</span><br><span class="line">            ma-&gt;cleanFile();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">select</span> == <span class="number">0</span>)   <span class="comment">//注销登录</span></span><br><span class="line">        &#123;</span><br><span class="line">            delete p;       <span class="comment">//释放堆区对象</span></span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;注销登录成功！&quot;</span> &lt;&lt; endl;</span><br><span class="line">            system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">            system(<span class="string">&quot;cls&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;输入有误，请重新输入！&quot;</span> &lt;&lt; endl;</span><br><span class="line">            system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">            system(<span class="string">&quot;cls&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//学生代表 子菜单</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">studentMenu</span>(<span class="params">Identity * &amp;p</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//调用 学生代表 子菜单</span></span><br><span class="line">        p-&gt;openMenu();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//将父类指针 转为子类指针，调用子类里其他接口</span></span><br><span class="line">        Student *stu = (Student*)p;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//接收用户选项</span></span><br><span class="line">        <span class="built_in">int</span> <span class="keyword">select</span> = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;请输入您的选择：&quot;</span>;</span><br><span class="line">        cin &gt;&gt; <span class="keyword">select</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">select</span> == <span class="number">1</span>)        <span class="comment">//申请预约</span></span><br><span class="line">        &#123;</span><br><span class="line">            stu-&gt;applyOrder();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">select</span> == <span class="number">2</span>)   <span class="comment">//查看我的预约</span></span><br><span class="line">        &#123;</span><br><span class="line">            stu-&gt;showMyOrder();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">select</span> == <span class="number">3</span>)   <span class="comment">//查看所有预约</span></span><br><span class="line">        &#123;</span><br><span class="line">            stu-&gt;showAllOrder();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">select</span> == <span class="number">4</span>)   <span class="comment">//取消预约</span></span><br><span class="line">        &#123;</span><br><span class="line">            stu-&gt;cancelOrder();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">select</span> == <span class="number">0</span>)   <span class="comment">//注销登录</span></span><br><span class="line">        &#123;</span><br><span class="line">            delete p;       <span class="comment">//释放堆区对象</span></span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;注销登录成功！&quot;</span> &lt;&lt; endl;</span><br><span class="line">            system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">            system(<span class="string">&quot;cls&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;输入有误，请重新输入！&quot;</span> &lt;&lt; endl;</span><br><span class="line">            system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">            system(<span class="string">&quot;cls&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//老师 子菜单</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">teacherMenu</span>(<span class="params">Identity * &amp;p</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//调用 老师 子菜单</span></span><br><span class="line">        p-&gt;openMenu();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//将父类指针 转为子类指针，调用子类里其他接口</span></span><br><span class="line">        Teacher *tea = (Teacher*)p;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//接收用户选项</span></span><br><span class="line">        <span class="built_in">int</span> <span class="keyword">select</span> = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;请输入您的选择：&quot;</span>;</span><br><span class="line">        cin &gt;&gt; <span class="keyword">select</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="computerRoom-h（头文件）"><a href="#computerRoom-h（头文件）" class="headerlink" title="computerRoom.h（头文件）"></a>computerRoom.h（头文件）</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">pragma</span> once</span></span><br><span class="line"><span class="meta">#include&lt;iostream&gt;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="title">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//机房类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">computerRoom</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line">    <span class="comment">//机房编号</span></span><br><span class="line">    <span class="built_in">string</span> m_Name;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="globalFile-h（头文件）"><a href="#globalFile-h（头文件）" class="headerlink" title="globalFile.h（头文件）"></a>globalFile.h（头文件）</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">pragma</span> once</span></span><br><span class="line"><span class="meta">#include&lt;iostream&gt;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="title">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//管理员文件</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ADMIN_FILE &quot;admin.txt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//学生文件</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> STUDENT_FILE &quot;student.txt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//教师文件</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TEACHER_FILE &quot;teacher.txt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//机房信息文件</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> COMPUTER_FILE &quot;computerRoom.txt&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="Identity-h（头文件）"><a href="#Identity-h（头文件）" class="headerlink" title="Identity.h（头文件）"></a>Identity.h（头文件）</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">pragma</span> once    //防止头文件重复定义</span></span><br><span class="line"><span class="meta">#include&lt;iostream&gt;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="title">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//身份抽象类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Identity</span>      <span class="comment">//同一特性类</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line">    <span class="comment">//操作菜单 纯虚函数</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">openMenu</span>()</span> = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//用户名称</span></span><br><span class="line">    <span class="built_in">string</span> m_Name;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="orderFile-h（头文件）"><a href="#orderFile-h（头文件）" class="headerlink" title="orderFile.h（头文件）"></a>orderFile.h（头文件）</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">pragma</span> once</span></span><br><span class="line"><span class="meta">#include&lt;iostream&gt;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="title">std</span>;</span><br><span class="line"><span class="meta">#include&quot;globalFile.h&quot;</span></span><br><span class="line"><span class="meta">#include&lt;map&gt;</span></span><br><span class="line"><span class="meta">#include&lt;string&gt;</span></span><br><span class="line"><span class="meta">#include&lt;fstream&gt;</span></span><br><span class="line"><span class="meta">#include&lt;algorithm&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">orderFile</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line">    <span class="comment">//构造函数</span></span><br><span class="line">    orderFile();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//更新预约记录</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">updateOrder</span>()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//初始化容器</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">initMap</span>(<span class="params"><span class="built_in">string</span> str</span>)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//临时容器</span></span><br><span class="line">    map&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt;m_tempMap;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//记录的容器 key---记录的条数 value---具体要求记录的键值对信息</span></span><br><span class="line">    map&lt;<span class="built_in">int</span>, map&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt;&gt; m_OrderData;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="orderFile-cpp（源文件）"><a href="#orderFile-cpp（源文件）" class="headerlink" title="orderFile.cpp（源文件）"></a>orderFile.cpp（源文件）</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#include &quot;orderFile.h&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//构造函数</span></span><br><span class="line">orderFile::orderFile()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//初始化容器</span></span><br><span class="line">    <span class="keyword">this</span>-&gt;m_OrderData.clear();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//预约记录个数</span></span><br><span class="line">    <span class="keyword">this</span>-&gt;m_Size = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//获取文件中的数据 </span></span><br><span class="line">    <span class="built_in">string</span> date;        <span class="comment">//时间</span></span><br><span class="line">    <span class="built_in">string</span> interval;    <span class="comment">//时间段</span></span><br><span class="line">    <span class="built_in">string</span> stuId;       <span class="comment">//学生学号</span></span><br><span class="line">    <span class="built_in">string</span> stuName;     <span class="comment">//学生姓名</span></span><br><span class="line">    <span class="built_in">string</span> roomId;      <span class="comment">//机房编号</span></span><br><span class="line">    <span class="built_in">string</span> status;      <span class="comment">//预约状态</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建流文件</span></span><br><span class="line">    <span class="function">ifstream <span class="title">ifs</span>(<span class="params">ORDER_FILE, ios::<span class="keyword">in</span></span>)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//获取内容</span></span><br><span class="line">    <span class="keyword">while</span> (ifs &gt;&gt; date &amp;&amp; ifs &gt;&gt; interval &amp;&amp; ifs &gt;&gt; stuId &amp;&amp; ifs &gt;&gt;</span><br><span class="line">        stuName &amp;&amp; ifs &gt;&gt; roomId &amp;&amp; ifs &gt;&gt; status)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//初始化临时容器</span></span><br><span class="line">        <span class="keyword">this</span>-&gt;m_tempMap.clear();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//将数据放入到临时容器中</span></span><br><span class="line">        <span class="keyword">this</span>-&gt;initMap(date);     <span class="comment">//时间</span></span><br><span class="line">        <span class="keyword">this</span>-&gt;initMap(interval); <span class="comment">//时间段</span></span><br><span class="line">        <span class="keyword">this</span>-&gt;initMap(stuId);        <span class="comment">//学生学号</span></span><br><span class="line">        <span class="keyword">this</span>-&gt;initMap(stuName);      <span class="comment">//学生姓名</span></span><br><span class="line">        <span class="keyword">this</span>-&gt;initMap(roomId);       <span class="comment">//机房编号</span></span><br><span class="line">        <span class="keyword">this</span>-&gt;initMap(status);       <span class="comment">//预约状态</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//将数据放入到容器中</span></span><br><span class="line">        <span class="keyword">this</span>-&gt;m_OrderData.insert(make_pair(<span class="keyword">this</span>-&gt;m_Size, <span class="keyword">this</span>-&gt;m_tempMap));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//预约记录个数</span></span><br><span class="line">        <span class="keyword">this</span>-&gt;m_Size++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//关闭文件</span></span><br><span class="line">    ifs.close();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//更新预约记录</span></span><br><span class="line"><span class="keyword">void</span> orderFile::updateOrder()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>-&gt;m_Size == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span>;     <span class="comment">//预约记录0条，直接return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建流文件</span></span><br><span class="line">    <span class="function">ofstream <span class="title">ofs</span>(<span class="params">ORDER_FILE, ios::<span class="keyword">out</span>  ios::trunc</span>)</span>;</span><br><span class="line">    <span class="keyword">for</span> (size_t i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>-&gt;m_Size; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        ofs &lt;&lt; <span class="string">&quot;date:&quot;</span> &lt;&lt; <span class="keyword">this</span>-&gt;m_OrderData[i][<span class="string">&quot;date&quot;</span>] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        ofs &lt;&lt; <span class="string">&quot;interval:&quot;</span> &lt;&lt; <span class="keyword">this</span>-&gt;m_OrderData[i][<span class="string">&quot;interval&quot;</span>] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        ofs &lt;&lt; <span class="string">&quot;stuId:&quot;</span> &lt;&lt; <span class="keyword">this</span>-&gt;m_OrderData[i][<span class="string">&quot;stuId&quot;</span>] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        ofs &lt;&lt; <span class="string">&quot;stuName:&quot;</span> &lt;&lt; <span class="keyword">this</span>-&gt;m_OrderData[i][<span class="string">&quot;stuName&quot;</span>] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        ofs &lt;&lt; <span class="string">&quot;roomId:&quot;</span> &lt;&lt; <span class="keyword">this</span>-&gt;m_OrderData[i][<span class="string">&quot;roomId&quot;</span>] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        ofs &lt;&lt; <span class="string">&quot;status:&quot;</span> &lt;&lt; <span class="keyword">this</span>-&gt;m_OrderData[i][<span class="string">&quot;status&quot;</span>] &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//关闭文件</span></span><br><span class="line">    ofs.close();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//初始化容器</span></span><br><span class="line"><span class="keyword">void</span> orderFile::initMap(<span class="built_in">string</span> str)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">string</span> tempKey;     <span class="comment">//临时Key值</span></span><br><span class="line">    <span class="built_in">string</span> tempValue;   <span class="comment">//临时Value值</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">int</span> start = <span class="number">0</span>;              <span class="comment">//起始位置</span></span><br><span class="line">    <span class="built_in">int</span> pos = str.find(<span class="string">&quot;:&quot;</span>);  <span class="comment">//返回&quot;:&quot;的位置</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//不等于 -1 执行</span></span><br><span class="line">    <span class="keyword">if</span> (pos != <span class="number">-1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        tempKey = str.substr(start, pos);</span><br><span class="line">        tempValue = str.substr(pos + <span class="number">1</span>, str.size() - pos - <span class="number">1</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="manager-h（头文件）"><a href="#manager-h（头文件）" class="headerlink" title="manager.h（头文件）"></a>manager.h（头文件）</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">pragma</span> once</span></span><br><span class="line"><span class="meta">#include&lt;iostream&gt;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="title">std</span>;</span><br><span class="line"><span class="meta">#include&quot;Identity.h&quot;</span></span><br><span class="line"><span class="meta">#include&lt;string&gt;</span></span><br><span class="line"><span class="meta">#include&quot;globalFile.h&quot;</span></span><br><span class="line"><span class="meta">#include&lt;fstream&gt;</span></span><br><span class="line"><span class="meta">#include&lt;vector&gt;</span></span><br><span class="line"><span class="meta">#include&quot;student.h&quot;</span></span><br><span class="line"><span class="meta">#include&quot;teacher.h&quot;</span></span><br><span class="line"><span class="meta">#include&lt;algorithm&gt;</span></span><br><span class="line"><span class="meta">#include&quot;computerRoom.h&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Manager</span> :<span class="title">public</span> <span class="title">Identity</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">//默认构造</span></span><br><span class="line">    Manager();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//有参构造 参数：姓名，密码</span></span><br><span class="line">    Manager(<span class="built_in">string</span> name, <span class="built_in">string</span> pwd);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//操作菜单</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">openMenu</span>()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//添加帐号</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addPerson</span>()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//查看帐号</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">showPerson</span>()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//查看机房</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">showComputer</span>()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//清空预约</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">cleanFile</span>()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//初始化容器</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">initVector</span>()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//学生容器</span></span><br><span class="line">    vector&lt;Student&gt;vStu;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//教师容器</span></span><br><span class="line">    vector&lt;Teacher&gt;vTea;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//检查重复 参数：（传入id,传入类型）返回值：（true代表有重复，false代表没有重复）</span></span><br><span class="line">    <span class="function"><span class="built_in">bool</span> <span class="title">checkRepeat</span>(<span class="params"><span class="built_in">int</span> id, <span class="built_in">int</span> type</span>)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//机房容器</span></span><br><span class="line">    vector&lt;computerRoom&gt;vCom;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="manager-cpp（源文件）"><a href="#manager-cpp（源文件）" class="headerlink" title="manager.cpp（源文件）"></a>manager.cpp（源文件）</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#include&quot;manager.h&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//默认构造</span></span><br><span class="line">Manager::Manager()</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//有参构造 参数：用户名称，用户密码</span></span><br><span class="line">Manager::Manager(<span class="built_in">string</span> name, <span class="built_in">string</span> pwd)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;m_Name = name;</span><br><span class="line">    <span class="keyword">this</span>-&gt;m_Pwd = pwd;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//初始化容器</span></span><br><span class="line">    <span class="keyword">this</span>-&gt;initVector();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//操作菜单</span></span><br><span class="line"><span class="keyword">void</span> Manager::openMenu()</span><br><span class="line">&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;欢迎管理员：&quot;</span> &lt;&lt; <span class="keyword">this</span>-&gt;m_Name &lt;&lt; <span class="string">&quot; 登录&quot;</span> &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;\t\t----------------------------------\n&quot;</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;\t\t                                \n&quot;</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;\t\t           1.添加账号           \n&quot;</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;\t\t                                \n&quot;</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;\t\t           2.查看账号           \n&quot;</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;\t\t                                \n&quot;</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;\t\t           3.查看机房           \n&quot;</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;\t\t                                \n&quot;</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;\t\t           4.清空预约           \n&quot;</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;\t\t                                \n&quot;</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;\t\t           0.注销登录           \n&quot;</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;\t\t----------------------------------\n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//添加帐号</span></span><br><span class="line"><span class="keyword">void</span> Manager::addPerson()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">int</span> <span class="keyword">select</span> = <span class="number">0</span>;     <span class="comment">//接收用户的选择</span></span><br><span class="line">    <span class="built_in">string</span> fileName;    <span class="comment">//文件名称</span></span><br><span class="line">    <span class="built_in">string</span> tip;         <span class="comment">//提示需要输入的ip号</span></span><br><span class="line">    <span class="built_in">string</span> errorTip;    <span class="comment">//重复错误提示</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;请输入添加账号类型：&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;1.添加学生&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;2.添加教师&quot;</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">        cin &gt;&gt; <span class="keyword">select</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">select</span> == <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            fileName = STUDENT_FILE;</span><br><span class="line">            tip = <span class="string">&quot;请输入学号：&quot;</span>;</span><br><span class="line">            errorTip = <span class="string">&quot;学号重复，请重新输入！\n&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">select</span> == <span class="number">2</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            fileName = TEACHER_FILE;</span><br><span class="line">            tip = <span class="string">&quot;请输入职工编号：&quot;</span>;</span><br><span class="line">            errorTip = <span class="string">&quot;职工编号重复，请重新输入！\n&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;输入有误，请重新输入！&quot;</span> &lt;&lt; endl;</span><br><span class="line">            system(<span class="string">&quot;pause&quot;</span>);  </span><br><span class="line">            system(<span class="string">&quot;cls&quot;</span>);        <span class="comment">//清屏</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>-&gt;openMenu();    <span class="comment">//调用 管理员 子菜单</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建流文件</span></span><br><span class="line">    ofstream ofs;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//打开文件-写内容</span></span><br><span class="line">    ofs.open(fileName, ios::<span class="keyword">out</span>  ios::app);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//获取用户的输入</span></span><br><span class="line">    <span class="built_in">int</span> id;</span><br><span class="line">    <span class="built_in">string</span> name;</span><br><span class="line">    <span class="built_in">string</span> pwd;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; tip;  <span class="comment">//学号或职工编号</span></span><br><span class="line">        cin &gt;&gt; id;</span><br><span class="line">        <span class="built_in">bool</span> ret = <span class="keyword">this</span>-&gt;checkRepeat(id, <span class="keyword">select</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (ret)</span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; errorTip;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;请输入用户名：&quot;</span>;</span><br><span class="line">    cin &gt;&gt; name;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;请输入密码：&quot;</span>;</span><br><span class="line">    cin &gt;&gt; pwd;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//向文件添加数据</span></span><br><span class="line">    ofs &lt;&lt; id &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; name &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; pwd &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//关闭文件</span></span><br><span class="line">    ofs.close();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//初始化容器</span></span><br><span class="line">    <span class="keyword">this</span>-&gt;initVector();</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;添加成功！&quot;</span> &lt;&lt; endl;</span><br><span class="line">    system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">    system(<span class="string">&quot;cls&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//打印输出类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">myPrintClass</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line">    <span class="comment">//学生 仿函数</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">operator</span>()(<span class="params">Student &amp;s</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;学号：&quot;</span> &lt;&lt; s.m_Id &lt;&lt; <span class="string">&quot;\t姓名：&quot;</span> &lt;&lt; s.m_Name &lt;&lt; <span class="string">&quot;\t密码：&quot;</span> &lt;&lt; s.m_Pwd &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//教师 仿函数</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">operator</span>()(<span class="params">Teacher &amp;t</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;职工编号：&quot;</span> &lt;&lt; t.m_EmpId &lt;&lt; <span class="string">&quot;\t姓名：&quot;</span> &lt;&lt; t.m_Name &lt;&lt; <span class="string">&quot;\t密码：&quot;</span> &lt;&lt; t.m_Pwd &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//机房 仿函数</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">operator</span>()(<span class="params">computerRoom &amp;c</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;机房编号：&quot;</span> &lt;&lt; c.m_Name &lt;&lt; <span class="string">&quot;\t机房最大容量：&quot;</span> &lt;&lt; c.m_Maximum &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//查看帐号</span></span><br><span class="line"><span class="keyword">void</span> Manager::showPerson()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//接收用户的输入</span></span><br><span class="line">    <span class="built_in">int</span> <span class="keyword">select</span> = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;请输入您的选择：&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;1、查看所有学生&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;2、查看所有教师&quot;</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">        cin &gt;&gt; <span class="keyword">select</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">select</span> == <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//遍历学生容器 所有元素</span></span><br><span class="line">            for_each(vStu.begin(), vStu.end(), myPrintClass());</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">select</span> == <span class="number">2</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//遍历教师容器 所有元素</span></span><br><span class="line">            for_each(vTea.begin(), vTea.end(), myPrintClass());</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;输入错误，请重新输入！&quot;</span> &lt;&lt; endl;</span><br><span class="line">            system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">            system(<span class="string">&quot;cls&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//调用 管理员 子菜单</span></span><br><span class="line">            <span class="keyword">this</span>-&gt;openMenu();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">    system(<span class="string">&quot;cls&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//查看机房</span></span><br><span class="line"><span class="keyword">void</span> Manager::showComputer()</span><br><span class="line">&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;机房信息如下：&quot;</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//遍历机房容器 所有元素</span></span><br><span class="line">    for_each(vCom.begin(), vCom.end(), myPrintClass());</span><br><span class="line"></span><br><span class="line">    system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">    system(<span class="string">&quot;cls&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//清空预约</span></span><br><span class="line"><span class="keyword">void</span> Manager::cleanFile()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//创建流文件（如果文件存在先删除，再创建)</span></span><br><span class="line">    <span class="function">ofstream <span class="title">ofs</span>(<span class="params">ORDER_FILE, ios::trunc</span>)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//关闭文件</span></span><br><span class="line">    ofs.close();</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;清空成功！&quot;</span> &lt;&lt; endl;</span><br><span class="line">    system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">    system(<span class="string">&quot;cls&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//初始化容器</span></span><br><span class="line"><span class="keyword">void</span> Manager::initVector()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//初始化容器</span></span><br><span class="line">    <span class="keyword">this</span>-&gt;vStu.clear();</span><br><span class="line">    <span class="keyword">this</span>-&gt;vTea.clear();</span><br><span class="line">    <span class="keyword">this</span>-&gt;vCom.clear();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//读取学生文件中信息</span></span><br><span class="line">    ifstream ifs;</span><br><span class="line">    ifs.open(STUDENT_FILE, ios::<span class="keyword">in</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//char ch;</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span>/判断文件是否存在</span></span><br><span class="line">    <span class="comment">//if (!ifs.is_open())</span></span><br><span class="line">    <span class="comment">//&#123;</span></span><br><span class="line">    <span class="comment">//  cout &lt;&lt; &quot;学生 文件读取失败！&quot; &lt;&lt; endl;</span></span><br><span class="line">    <span class="comment">//  ifs.close();</span></span><br><span class="line">    <span class="comment">//  return;</span></span><br><span class="line">    <span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span>/判断文件是否为空</span></span><br><span class="line">    <span class="comment">//ifs &gt;&gt; ch;</span></span><br><span class="line">    <span class="comment">//if (ifs.eof())</span></span><br><span class="line">    <span class="comment">//&#123;</span></span><br><span class="line">    <span class="comment">//  cout &lt;&lt; &quot;学生 文件为空！&quot; &lt;&lt; endl;</span></span><br><span class="line">    <span class="comment">//  ifs.close();</span></span><br><span class="line">    <span class="comment">//  return;</span></span><br><span class="line">    <span class="comment">//&#125;</span></span><br><span class="line">    <span class="comment">//ifs.putback(ch);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//读内容</span></span><br><span class="line">    Student s;</span><br><span class="line">    <span class="comment">//将数据放入到容器中</span></span><br><span class="line">    <span class="keyword">while</span> (ifs &gt;&gt; s.m_Id &amp;&amp; ifs &gt;&gt; s.m_Name &amp;&amp; ifs &gt;&gt; s.m_Pwd)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;vStu.push_back(s);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//cout &lt;&lt; &quot;学生数量为：&quot; &lt;&lt; this-&gt;vStu.size() &lt;&lt; endl;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//关闭文件</span></span><br><span class="line">    ifs.close();</span><br><span class="line"></span><br><span class="line"><span class="comment">//-----------------------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//读取教师文件中信息</span></span><br><span class="line">    ifs.open(TEACHER_FILE, ios::<span class="keyword">in</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span>/判断文件是否存在</span></span><br><span class="line">    <span class="comment">//if (!ifs.is_open())</span></span><br><span class="line">    <span class="comment">//&#123;</span></span><br><span class="line">    <span class="comment">//  cout &lt;&lt; &quot;教师 文件读取失败！&quot; &lt;&lt; endl;</span></span><br><span class="line">    <span class="comment">//  ifs.close();</span></span><br><span class="line">    <span class="comment">//  return;</span></span><br><span class="line">    <span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span>/判断文件是否为空</span></span><br><span class="line">    <span class="comment">//ifs &gt;&gt; ch;</span></span><br><span class="line">    <span class="comment">//if (ifs.eof())</span></span><br><span class="line">    <span class="comment">//&#123;</span></span><br><span class="line">    <span class="comment">//  cout &lt;&lt; &quot;教师 文件为空！&quot; &lt;&lt; endl;</span></span><br><span class="line">    <span class="comment">//  ifs.close();</span></span><br><span class="line">    <span class="comment">//  return;</span></span><br><span class="line">    <span class="comment">//&#125;</span></span><br><span class="line">    <span class="comment">//ifs.putback(ch);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//读内容</span></span><br><span class="line">    Teacher t;</span><br><span class="line">    <span class="comment">//将数据放入到容器中</span></span><br><span class="line">    <span class="keyword">while</span> (ifs &gt;&gt; t.m_EmpId &amp;&amp; ifs &gt;&gt; t.m_Name &amp;&amp; ifs &gt;&gt; t.m_Pwd)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;vTea.push_back(t);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//cout &lt;&lt; &quot;教师数量为：&quot; &lt;&lt; this-&gt;vTea.size() &lt;&lt; endl;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//关闭文件</span></span><br><span class="line">    ifs.close();</span><br><span class="line"></span><br><span class="line"><span class="comment">//-------------------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//读取机房文件中信息</span></span><br><span class="line">    ifs.open(COMPUTER_FILE, ios::<span class="keyword">in</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span>/判断文件是否存在</span></span><br><span class="line">    <span class="comment">//if (!ifs.is_open())</span></span><br><span class="line">    <span class="comment">//&#123;</span></span><br><span class="line">    <span class="comment">//  cout &lt;&lt; &quot;机房 文件读取失败！&quot; &lt;&lt; endl;</span></span><br><span class="line">    <span class="comment">//  ifs.close();</span></span><br><span class="line">    <span class="comment">//  return;</span></span><br><span class="line">    <span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span>/判断文件是否为空</span></span><br><span class="line">    <span class="comment">//ifs &gt;&gt; ch;</span></span><br><span class="line">    <span class="comment">//if (ifs.eof())</span></span><br><span class="line">    <span class="comment">//&#123;</span></span><br><span class="line">    <span class="comment">//  cout &lt;&lt; &quot;机房 文件为空！&quot; &lt;&lt; endl;</span></span><br><span class="line">    <span class="comment">//  ifs.close();</span></span><br><span class="line">    <span class="comment">//  return;</span></span><br><span class="line">    <span class="comment">//&#125;</span></span><br><span class="line">    <span class="comment">//ifs.putback(ch);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//读内容</span></span><br><span class="line">    computerRoom c;</span><br><span class="line">    <span class="comment">//将数据放入到容器中</span></span><br><span class="line">    <span class="keyword">while</span> (ifs &gt;&gt; c.m_Name &amp;&amp; ifs &gt;&gt; c.m_Maximum)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;vCom.push_back(c);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//cout &lt;&lt; &quot;机房数量为：&quot; &lt;&lt; this-&gt;vCom.size() &lt;&lt; endl;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//关闭文件</span></span><br><span class="line">    ifs.close();</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="student-h（头文件）"><a href="#student-h（头文件）" class="headerlink" title="student.h（头文件）"></a>student.h（头文件）</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">pragma</span> once</span></span><br><span class="line"><span class="meta">#include&lt;iostream&gt;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="title">std</span>;</span><br><span class="line"><span class="meta">#include&quot;Identity.h&quot;</span></span><br><span class="line"><span class="meta">#include&lt;string&gt;</span></span><br><span class="line"><span class="meta">#include&quot;computerRoom.h&quot;</span></span><br><span class="line"><span class="meta">#include&lt;vector&gt;</span></span><br><span class="line"><span class="meta">#include&lt;fstream&gt;</span></span><br><span class="line"><span class="meta">#include&quot;globalFile.h&quot;</span></span><br><span class="line"><span class="meta">#include&quot;orderFile.h&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Student</span> :<span class="title">public</span> <span class="title">Identity</span></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line">    <span class="comment">//默认构造</span></span><br><span class="line">    Student();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//有参构造  参数：学号、姓名、密码</span></span><br><span class="line">    Student(<span class="built_in">int</span> id, <span class="built_in">string</span> name, <span class="built_in">string</span> pwd);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//操作菜单</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">openMenu</span>()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//申请预约</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">applyOrder</span>()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//查看自身的预约</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">showMyOrder</span>()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//查看所有预约</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">showAllOrder</span>()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//取消预约</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">cancelOrder</span>()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//析构函数</span></span><br><span class="line">    ~Student();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//学号</span></span><br><span class="line">    <span class="built_in">int</span> m_Id;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//容器初始化</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">initVector</span>()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//机房容器</span></span><br><span class="line">    vector&lt;computerRoom&gt;vCom;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="student-cpp（源文件）"><a href="#student-cpp（源文件）" class="headerlink" title="student.cpp（源文件）"></a>student.cpp（源文件）</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#include&quot;student.h&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//默认构造</span></span><br><span class="line">Student::Student()</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//有参构造</span></span><br><span class="line">Student::Student(<span class="built_in">int</span> id, <span class="built_in">string</span> name, <span class="built_in">string</span> pwd)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//初始化属性</span></span><br><span class="line">    <span class="keyword">this</span>-&gt;m_Id = id;</span><br><span class="line">    <span class="keyword">this</span>-&gt;m_Name = name;</span><br><span class="line">    <span class="keyword">this</span>-&gt;m_Pwd = pwd;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//容器初始化</span></span><br><span class="line">    <span class="keyword">this</span>-&gt;initVector();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//操作菜单</span></span><br><span class="line"><span class="keyword">void</span> Student::openMenu()</span><br><span class="line">&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;欢迎学生代表：&quot;</span> &lt;&lt; <span class="keyword">this</span>-&gt;m_Name &lt;&lt; <span class="string">&quot; 登录&quot;</span> &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;\t\t----------------------------------\n&quot;</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;\t\t                                \n&quot;</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;\t\t           1.申请预约           \n&quot;</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;\t\t                                \n&quot;</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;\t\t           2.我的预约           \n&quot;</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;\t\t                                \n&quot;</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;\t\t           3.所有预约           \n&quot;</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;\t\t                                \n&quot;</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;\t\t           4.取消预约           \n&quot;</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;\t\t                                \n&quot;</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;\t\t           0.注销登录           \n&quot;</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;\t\t----------------------------------\n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//申请预约</span></span><br><span class="line"><span class="keyword">void</span> Student::applyOrder()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">int</span> date = <span class="number">0</span>;           <span class="comment">//周一~周五</span></span><br><span class="line">    <span class="built_in">int</span> interval = <span class="number">0</span>;       <span class="comment">//上午、下午</span></span><br><span class="line">    <span class="built_in">int</span> roomId = <span class="number">0</span>;         <span class="comment">//机房容量</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;机房开放的时间为周一至周五！&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;请输入申请预约的时间：&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;1、周一&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;2、周二&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;3、周三&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;4、周四&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;5、周五&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cin &gt;&gt; date;</span><br><span class="line">        <span class="keyword">if</span> (<span class="number">1</span> &lt;= date &amp;&amp; date &lt;= <span class="number">5</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;输入有误，请重新输入！&quot;</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">            system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">            system(<span class="string">&quot;cls&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//调用 学生 子菜单</span></span><br><span class="line">            <span class="keyword">this</span>-&gt;openMenu();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;请输入申请预约的时间段：&quot;</span> &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;1、上午&quot;</span> &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;2、下午&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; interval;</span><br><span class="line">        <span class="keyword">if</span> (interval &gt;= <span class="number">1</span> &amp;&amp; interval &lt;= <span class="number">2</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;输入有误，请重新输入！&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;请选择机房：&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; vCom.size(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="keyword">this</span>-&gt;vCom[i].m_Name &lt;&lt; <span class="string">&quot;机房 容量：&quot;</span> &lt;&lt; <span class="keyword">this</span>-&gt;vCom[i].m_Maximum &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; roomId;</span><br><span class="line">        <span class="keyword">if</span> (roomId &gt;= <span class="number">1</span> &amp;&amp; roomId &lt;= <span class="number">3</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;输入有误，请重新输入！&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建流文件</span></span><br><span class="line">    <span class="function">ofstream <span class="title">ofs</span>(<span class="params">ORDER_FILE, ios::<span class="keyword">out</span>  ios::app</span>)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//插入数据</span></span><br><span class="line">    ofs &lt;&lt; <span class="string">&quot;date:&quot;</span> &lt;&lt; date &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    ofs &lt;&lt; <span class="string">&quot;interval:&quot;</span> &lt;&lt; interval &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    ofs &lt;&lt; <span class="string">&quot;stuId:&quot;</span> &lt;&lt; <span class="keyword">this</span>-&gt;m_Id &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    ofs &lt;&lt; <span class="string">&quot;stuName:&quot;</span> &lt;&lt; <span class="keyword">this</span>-&gt;m_Name &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    ofs &lt;&lt; <span class="string">&quot;roomId:&quot;</span> &lt;&lt; roomId &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    ofs &lt;&lt; <span class="string">&quot;status:&quot;</span> &lt;&lt; <span class="number">1</span> &lt;&lt; endl;      <span class="comment">//1：审核中</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//关闭文件</span></span><br><span class="line">    ofs.close();</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;预约成功，审核中&quot;</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">    system(<span class="string">&quot;cls&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//查看自身的预约</span></span><br><span class="line"><span class="keyword">void</span> Student::showMyOrder()</span><br><span class="line">&#123;</span><br><span class="line">    orderFile ord;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (ord.m_Size == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;暂时没有预约记录！&quot;</span> &lt;&lt; endl;</span><br><span class="line">        system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">        system(<span class="string">&quot;cls&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; ord.m_Size; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//string 转 int</span></span><br><span class="line">        <span class="comment">//string 利用 .c_str() 转 const char *</span></span><br><span class="line">        <span class="comment">//利用 atoi(const char *) 转 int</span></span><br><span class="line">        <span class="keyword">if</span> (atoi(ord.m_OrderData[i][<span class="string">&quot;stuId&quot;</span>].c_str()) == <span class="keyword">this</span>-&gt;m_Id)</span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;预约日期：周&quot;</span> &lt;&lt; ord.m_OrderData[i][<span class="string">&quot;date&quot;</span>];</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;   时段：&quot;</span> &lt;&lt; (ord.m_OrderData[i][<span class="string">&quot;interval&quot;</span>] == <span class="string">&quot;1&quot;</span> ? <span class="string">&quot;上午&quot;</span> : <span class="string">&quot;下午&quot;</span>);</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;   机房编号：&quot;</span> &lt;&lt; ord.m_OrderData[i][<span class="string">&quot;roomId&quot;</span>];</span><br><span class="line"></span><br><span class="line">            <span class="comment">//1审核中 2已预约 0取消预约 -1预约失败</span></span><br><span class="line">            <span class="built_in">string</span> status = <span class="string">&quot;   状态：&quot;</span>;</span><br><span class="line">            <span class="keyword">if</span> (ord.m_OrderData[i][<span class="string">&quot;status&quot;</span>] == <span class="string">&quot;1&quot;</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                status += <span class="string">&quot;审核中&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (ord.m_OrderData[i][<span class="string">&quot;status&quot;</span>] == <span class="string">&quot;2&quot;</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                status += <span class="string">&quot;已预约&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (ord.m_OrderData[i][<span class="string">&quot;status&quot;</span>] == <span class="string">&quot;0&quot;</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                status += <span class="string">&quot;预约已取消&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                status += <span class="string">&quot;预约失败&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            cout &lt;&lt; status &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">    system(<span class="string">&quot;cls&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//查看所有预约</span></span><br><span class="line"><span class="keyword">void</span> Student::showAllOrder()</span><br><span class="line">&#123;</span><br><span class="line">    orderFile of;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (of.m_Size == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;暂时没有预约记录！&quot;</span> &lt;&lt; endl;</span><br><span class="line">        system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">        system(<span class="string">&quot;cls&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; of.m_Size; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; i + <span class="number">1</span> &lt;&lt; <span class="string">&quot;、&quot;</span>;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;预约日期：周&quot;</span> &lt;&lt; of.m_OrderData[i][<span class="string">&quot;date&quot;</span>];</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;\t时段：&quot;</span> &lt;&lt; (of.m_OrderData[i][<span class="string">&quot;interval&quot;</span>] == <span class="string">&quot;1&quot;</span> ? <span class="string">&quot;上午&quot;</span> : <span class="string">&quot;下午&quot;</span>);</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;\t学号：&quot;</span> &lt;&lt; of.m_OrderData[i][<span class="string">&quot;stuId&quot;</span>];</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;\t姓名：&quot;</span> &lt;&lt; of.m_OrderData[i][<span class="string">&quot;stuName&quot;</span>];</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;\t机房编号：&quot;</span> &lt;&lt; of.m_OrderData[i][<span class="string">&quot;roomId&quot;</span>];</span><br><span class="line"></span><br><span class="line">        <span class="built_in">string</span> status = <span class="string">&quot;\t状态：&quot;</span>;</span><br><span class="line">        <span class="keyword">if</span> (of.m_OrderData[i][<span class="string">&quot;status&quot;</span>] == <span class="string">&quot;1&quot;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            status += <span class="string">&quot;审核中&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (of.m_OrderData[i][<span class="string">&quot;status&quot;</span>] == <span class="string">&quot;2&quot;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            status += <span class="string">&quot;已预约&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (of.m_OrderData[i][<span class="string">&quot;status&quot;</span>] == <span class="string">&quot;0&quot;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            status += <span class="string">&quot;预约已取消&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            status += <span class="string">&quot;预约失败&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; status &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">    system(<span class="string">&quot;cls&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//取消预约</span></span><br><span class="line"><span class="keyword">void</span> Student::cancelOrder()</span><br><span class="line">&#123;</span><br><span class="line">    orderFile of;</span><br><span class="line">    <span class="keyword">if</span> (of.m_Size == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;暂时没有预约记录！&quot;</span> &lt;&lt; endl;</span><br><span class="line">        system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">        system(<span class="string">&quot;cls&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    vector&lt;<span class="built_in">int</span>&gt;v;     <span class="comment">//存放在最大容器中的下标编号</span></span><br><span class="line">    <span class="built_in">int</span> index = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; of.m_Size; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//先判断自身学号</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>-&gt;m_Id == atoi(of.m_OrderData[i][<span class="string">&quot;stuId&quot;</span>].c_str()))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//再筛选状态 审核中或预约成功</span></span><br><span class="line">            <span class="keyword">if</span> (of.m_OrderData[i][<span class="string">&quot;status&quot;</span>] == <span class="string">&quot;1&quot;</span>  of.m_OrderData[i][<span class="string">&quot;status&quot;</span>] == <span class="string">&quot;2&quot;</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//放入到容器中</span></span><br><span class="line">                v.push_back(i);</span><br><span class="line"></span><br><span class="line">                cout &lt;&lt; index &lt;&lt; <span class="string">&quot;、&quot;</span>;</span><br><span class="line">                cout &lt;&lt; <span class="string">&quot;预约日期：周&quot;</span> &lt;&lt; of.m_OrderData[i][<span class="string">&quot;date&quot;</span>];</span><br><span class="line">                cout &lt;&lt; <span class="string">&quot;\t时段：&quot;</span> &lt;&lt; (of.m_OrderData[i][<span class="string">&quot;interval&quot;</span>] == <span class="string">&quot;1&quot;</span> ? <span class="string">&quot;上午&quot;</span> : <span class="string">&quot;下午&quot;</span>);</span><br><span class="line">                cout &lt;&lt; <span class="string">&quot;\t机房：&quot;</span> &lt;&lt; of.m_OrderData[i][<span class="string">&quot;roomId&quot;</span>];</span><br><span class="line"></span><br><span class="line">                <span class="built_in">string</span> status = <span class="string">&quot; \t状态：&quot;</span>;</span><br><span class="line">                <span class="keyword">if</span> (of.m_OrderData[i][<span class="string">&quot;status&quot;</span>] == <span class="string">&quot;1&quot;</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    status += <span class="string">&quot;审核中&quot;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> ((of.m_OrderData[i][<span class="string">&quot;status&quot;</span>] == <span class="string">&quot;2&quot;</span>))</span><br><span class="line">                &#123;</span><br><span class="line">                    status += <span class="string">&quot;已预约&quot;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                cout &lt;&lt; status &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">                <span class="comment">//记录下标加1</span></span><br><span class="line">                index++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (v.size() == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;暂时没有审核中或已预约记录！&quot;</span> &lt;&lt; endl;</span><br><span class="line">        system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">        system(<span class="string">&quot;cls&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;审核中或预约成功的记录可以取消，请输入取消的记录：&quot;</span> &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;请输入取消预约状态的序号，0 表示返回&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="built_in">int</span> <span class="keyword">select</span> = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; <span class="keyword">select</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">select</span> &gt;= <span class="number">0</span> &amp;&amp; <span class="keyword">select</span> &lt;= v.size())</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">select</span> == <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                of.m_OrderData[v[<span class="keyword">select</span> - <span class="number">1</span>]][<span class="string">&quot;status&quot;</span>] = <span class="string">&quot;0&quot;</span>;</span><br><span class="line">                of.updateOrder();</span><br><span class="line">                cout &lt;&lt; <span class="string">&quot;已取消预约！&quot;</span> &lt;&lt; endl;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;输入有误，请重新输入！&quot;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">    system(<span class="string">&quot;cls&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//析构函数</span></span><br><span class="line">Student::~Student()</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//容器初始化</span></span><br><span class="line"><span class="keyword">void</span> Student::initVector()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//初始化容器</span></span><br><span class="line">    <span class="keyword">this</span>-&gt;vCom.clear();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建流文件</span></span><br><span class="line">    ifstream ifs;</span><br><span class="line">    ifs.open(COMPUTER_FILE, ios::<span class="keyword">in</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建临时接收类</span></span><br><span class="line">    computerRoom com;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//获取数据</span></span><br><span class="line">    <span class="keyword">while</span> (ifs &gt;&gt; com.m_Name &amp;&amp; ifs &gt;&gt; com.m_Maximum)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//将读取的信息放入到 容器中</span></span><br><span class="line">        <span class="keyword">this</span>-&gt;vCom.push_back(com);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="teacher-h（头文件）"><a href="#teacher-h（头文件）" class="headerlink" title="teacher.h（头文件）"></a>teacher.h（头文件）</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">pragma</span> once</span></span><br><span class="line"><span class="meta">#include&lt;iostream&gt;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="title">std</span>;</span><br><span class="line"><span class="meta">#include&quot;Identity.h&quot;</span></span><br><span class="line"><span class="meta">#include&lt;string&gt;</span></span><br><span class="line"><span class="meta">#include&quot;orderFile.h&quot;</span></span><br><span class="line"><span class="meta">#include&lt;vector&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Teacher</span> :<span class="title">public</span> <span class="title">Identity</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line">    <span class="comment">//默认构造</span></span><br><span class="line">    Teacher();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//有参构造 参数：职工编号、姓名、密码</span></span><br><span class="line">    Teacher(<span class="built_in">int</span> empid, <span class="built_in">string</span> name, <span class="built_in">string</span> pwd);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//菜单界面</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">openMenu</span>()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//查看所有预约</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">showAllOrder</span>()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//审核预约</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">validOrder</span>()</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="teacher-cpp（源文件）"><a href="#teacher-cpp（源文件）" class="headerlink" title="teacher.cpp（源文件）"></a>teacher.cpp（源文件）</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#include&quot;teacher.h&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//默认构造</span></span><br><span class="line">Teacher::Teacher()</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//有参构造 参数：职工编号、姓名、密码</span></span><br><span class="line">Teacher::Teacher(<span class="built_in">int</span> empid, <span class="built_in">string</span> name, <span class="built_in">string</span> pwd)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;m_EmpId = empid;</span><br><span class="line">    <span class="keyword">this</span>-&gt;m_Name = name;</span><br><span class="line">    <span class="keyword">this</span>-&gt;m_Pwd = pwd;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//菜单界面</span></span><br><span class="line"><span class="keyword">void</span> Teacher::openMenu()</span><br><span class="line">&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;欢迎教师：&quot;</span> &lt;&lt; <span class="keyword">this</span>-&gt;m_Name &lt;&lt; <span class="string">&quot; 登录&quot;</span> &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;\t\t----------------------------------\n&quot;</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;\t\t                                \n&quot;</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;\t\t           1.所有预约           \n&quot;</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;\t\t                                \n&quot;</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;\t\t           2.审核预约           \n&quot;</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;\t\t                                \n&quot;</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;\t\t           0.注销登录           \n&quot;</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;\t\t----------------------------------\n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//查看所有预约</span></span><br><span class="line"><span class="keyword">void</span> Teacher::showAllOrder()</span><br><span class="line">&#123;</span><br><span class="line">    orderFile of;</span><br><span class="line">    <span class="keyword">if</span> (of.m_Size == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;暂时没有预约记录！&quot;</span> &lt;&lt; endl;</span><br><span class="line">        system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">        system(<span class="string">&quot;cls&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (size_t i = <span class="number">0</span>; i &lt; of.m_Size; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; i + <span class="number">1</span> &lt;&lt; <span class="string">&quot;、&quot;</span>;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;预约日期：周&quot;</span> &lt;&lt; of.m_OrderData[i][<span class="string">&quot;date&quot;</span>];</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;\t时段：&quot;</span> &lt;&lt; (of.m_OrderData[i][<span class="string">&quot;interval&quot;</span>] == <span class="string">&quot;1&quot;</span> ? <span class="string">&quot;上午&quot;</span> : <span class="string">&quot;下午&quot;</span>);</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;\t学号&quot;</span> &lt;&lt; of.m_OrderData[i][<span class="string">&quot;stuId&quot;</span>];</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;\t姓名&quot;</span> &lt;&lt; of.m_OrderData[i][<span class="string">&quot;stuName&quot;</span>];</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;\t机房&quot;</span> &lt;&lt; of.m_OrderData[i][<span class="string">&quot;roomId&quot;</span>];</span><br><span class="line"></span><br><span class="line">        <span class="built_in">string</span> status = <span class="string">&quot; \t状态：&quot;</span>;</span><br><span class="line">        <span class="keyword">if</span> (of.m_OrderData[i][<span class="string">&quot;status&quot;</span>] == <span class="string">&quot;1&quot;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            status += <span class="string">&quot;审核中&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (of.m_OrderData[i][<span class="string">&quot;status&quot;</span>] == <span class="string">&quot;2&quot;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            status += <span class="string">&quot;已预约&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (of.m_OrderData[i][<span class="string">&quot;status&quot;</span>] == <span class="string">&quot;0&quot;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            status += <span class="string">&quot;取消预约&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            status += <span class="string">&quot;预约失败&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; status &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">    system(<span class="string">&quot;cls&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//审核预约</span></span><br><span class="line"><span class="keyword">void</span> Teacher::validOrder()</span><br><span class="line">&#123;</span><br><span class="line">    orderFile of;</span><br><span class="line">    <span class="keyword">if</span> (of.m_Size == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;暂时没有预约记录！&quot;</span> &lt;&lt; endl;</span><br><span class="line">        system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">        system(<span class="string">&quot;cls&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    vector&lt;<span class="built_in">int</span>&gt;v;</span><br><span class="line">    v.clear();</span><br><span class="line">    <span class="built_in">int</span> index = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (size_t i = <span class="number">0</span>; i &lt; of.m_Size; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (of.m_OrderData[i][<span class="string">&quot;status&quot;</span>] == <span class="string">&quot;1&quot;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            v.push_back(i);</span><br><span class="line">            cout &lt;&lt; ++index &lt;&lt; <span class="string">&quot;、&quot;</span>;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;预约日期：周&quot;</span> &lt;&lt; of.m_OrderData[i][<span class="string">&quot;date&quot;</span>];</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;\t时段：&quot;</span> &lt;&lt; (of.m_OrderData[i][<span class="string">&quot;interval&quot;</span>] == <span class="string">&quot;1&quot;</span> ? <span class="string">&quot;上午&quot;</span> : <span class="string">&quot;下午&quot;</span>);</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;\t学号：&quot;</span> &lt;&lt; of.m_OrderData[i][<span class="string">&quot;stuId&quot;</span>];</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;\t姓名：&quot;</span> &lt;&lt; of.m_OrderData[i][<span class="string">&quot;stuName&quot;</span>];</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;\t机房：&quot;</span> &lt;&lt; of.m_OrderData[i][<span class="string">&quot;roomId&quot;</span>];</span><br><span class="line"></span><br><span class="line">            <span class="built_in">string</span> status = <span class="string">&quot; \t状态：&quot;</span>;</span><br><span class="line">            <span class="keyword">if</span> (of.m_OrderData[i][<span class="string">&quot;status&quot;</span>] == <span class="string">&quot;1&quot;</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                status += <span class="string">&quot;审核中&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            cout &lt;&lt; status &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (v.size() == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;暂时没有审核中的记录！&quot;</span> &lt;&lt; endl;</span><br><span class="line">        system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">        system(<span class="string">&quot;cls&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
    </div>

    
    
    

    <footer class="post-footer">
          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>本文作者： </strong>蚂蚁Emmet
  </li>
  <li class="post-copyright-link">
      <strong>本文链接：</strong>
      <a href="https://notes.camcad.cn/post/b0cae4ad.html" title="C++面向对象（案列）：机房预约系统(头文件&#x2F;源文件)">https://notes.camcad.cn/post/b0cae4ad.html</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>

          <div class="post-tags">
              <a href="/tags/C-C/" rel="tag"># C/C++</a>
              <a href="/tags/%E8%9A%82%E8%9A%81Emmet/" rel="tag"># 蚂蚁Emmet</a>
              <a href="/tags/C-STL/" rel="tag"># C++ STL</a>
              <a href="/tags/C-%E6%8F%90%E9%AB%98%E7%BC%96%E7%A8%8B/" rel="tag"># C++提高编程</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/post/d0efdeb2.html" rel="prev" title="C++面向对象（案列）：机房预约系统">
                  <i class="fa fa-chevron-left"></i> C++面向对象（案列）：机房预约系统
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/post/13756432.html" rel="next" title="C++提高编程">
                  C++提高编程 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments" id="waline"></div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">蚂蚁Emmet</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>





  




<script class="next-config" data-name="waline" type="application/json">{"lang":"zh-CN","enable":true,"serverURL":"https://waline.notes.camcad.cn/","cssUrl":"https://unpkg.com/@waline/client@v2/dist/waline.css","commentCount":true,"pageview":false,"el":"#waline","comment":true,"libUrl":"//unpkg.com/@waline/client@v2/dist/waline.js","path":"/post/b0cae4ad.html"}</script>
<link rel="stylesheet" href="https://unpkg.com/@waline/client@v2/dist/waline.css">
<script>
document.addEventListener('page:loaded', () => {
  NexT.utils.loadComments(CONFIG.waline.el).then(() =>
    NexT.utils.getScript(CONFIG.waline.libUrl, { condition: window.Waline })
  ).then(() => 
    Waline.init(Object.assign({}, CONFIG.waline,{ el: document.querySelector(CONFIG.waline.el) }))
  );
});
</script>

</body>
</html>
